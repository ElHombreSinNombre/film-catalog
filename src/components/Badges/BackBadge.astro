---
import ArrowIcon from '@icons/Arrow.astro'

const {
  class:
    className = 'p-2 text-white border border-white/10 bg-zinc-800/50 hover:bg-zinc-700 hover:border-white/40 transition-all duration-300 rounded-full',
} = Astro.props
---

<button
  id='back-btn'
  type='button'
  title='Go back'
  aria-label='Go back'
  class={className}
>
  <ArrowIcon />
</button>
<script>
  document.addEventListener('astro:page-load', () => {
    const btn = document.getElementById('back-btn') as HTMLButtonElement
    if (!btn) return
    const goBack = () =>
      window.history.length > 1
        ? window.history.back()
        : (window.location.href = '/')
    btn.onclick = goBack
    document.onkeydown = (e) => {
      if (e.key === 'Backspace') goBack()
    }
  })
</script>
